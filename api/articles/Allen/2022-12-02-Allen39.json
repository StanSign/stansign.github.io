{"title":"39)🧰 Swift - Defer","uid":"32fd8798e5c3d3654084b9ba0acefdda","slug":"Allen/2022-12-02-Allen39","date":"2022-12-01T15:00:00.000Z","updated":"2023-03-31T10:35:18.090Z","comments":true,"path":"api/articles/Allen/2022-12-02-Allen39.json","keywords":null,"cover":null,"content":"<p><a href=\"https://www.inflearn.com/course/%EC%8A%A4%EC%9C%84%ED%94%84%ED%8A%B8-%EB%AC%B8%EB%B2%95-%EB%A7%88%EC%8A%A4%ED%84%B0-%EC%8A%A4%EC%BF%A8\">앨런 Swift문법 마스터 스쿨 (온라인 BootCamp - 2개월과정)</a></p>\n<h1 id=\"Defer\"><a href=\"#Defer\" class=\"headerlink\" title=\"Defer\"></a>Defer</h1><p>우리가 할 일을 미루는 것처럼 코드 실행도 미룰 수 있다면 어떨까요?</p>\n<p>Swift는 <code>defer</code> 키워드를 제공해서 블럭 안에 있는 구문들을 해당 스코프의 마지막까지 미뤄줄 수 있습니다.</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">func deferStatement() &#123;\n\tdefer &#123;\n\t\tprint(&quot;나중에 실행하기&quot;)\n\t&#125;\n\tprint(&quot;먼저 실행하기&quot;)\n&#125;\n&#x2F;&#x2F; 먼저 실행하기\n&#x2F;&#x2F; 나중에 실행하기<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p> 위 예시에서 <code>defer</code> 키워드로 묶어둔 블럭이 아래에 있는 <code>print</code>문보다 늦게 실행된 것을 알 수 있습니다.</p>\n<h2 id=\"defer문도-호출되어-실행된다\"><a href=\"#defer문도-호출되어-실행된다\" class=\"headerlink\" title=\"defer문도 호출되어 실행된다\"></a>defer문도 호출되어 실행된다</h2><p>그런데 주의할 점이 하나 있습니다.</p>\n<p><code>defer</code>도 하나의 함수이기 때문에 일단 호출이 되어야 제대로 실행된다는 것입니다.</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">func deferStatement2() &#123;\n\tif true &#123;\n\t\tprint(&quot;먼저 실행하기&quot;)\n\t\treturn\n\t&#125;\n\tdefer &#123;\n\t\tprint(&quot;나중에 실행하기&quot;)\n\t&#125;\n&#125;\n\n&#x2F;&#x2F; 먼저 실행하기<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>위 예시의 경우, 무조건 진입되는 <code>if</code> 분기에 있는 <code>return</code> 에 의해 아래에 있는 <code>defer</code>문은 한 번도 실행되지 못하였습니다.</p>\n<p>결과적으로 “나중에 실행하기”는 출력되지 못하였네요.</p>\n<h2 id=\"defer문이-여러개-있다면\"><a href=\"#defer문이-여러개-있다면\" class=\"headerlink\" title=\"defer문이 여러개 있다면?\"></a>defer문이 여러개 있다면?</h2><p><code>defer</code>문이 꼭 하나만 오리란 법은 없겠죠.</p>\n<p>혹시라도 여러개의 <code>defer</code>문이 같은 스코프 안에 있다면 어떻게 동작할까요?</p>\n<pre class=\"line-numbers language-Swift\" data-language=\"Swift\"><code class=\"language-Swift\">func deferStatement3() &#123;\n\tdefer &#123;\n\t\tprint(1)\n\t&#125;\n\tdefer &#123;\n\t\tprint(2)\n\t&#125;\n\tdefer &#123;\n\t\tprint(3)\n\t&#125;\n&#125;\n&#x2F;&#x2F; 3\n&#x2F;&#x2F; 2\n&#x2F;&#x2F; 1<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>조금 극단적인 예시지만, 실행의 순서를 알아보기엔 딱 좋은 예시입니다.</p>\n<p><code>defer</code>문은 등록한 역순으로 실행됩니다.</p>\n<p>가장 먼저 나온 <code>defer</code>문이 가장 뒤에 배치되고, 그 이후에 나오는 <code>defer</code>문들이 순서대로 그 앞에 배치됩니다.</p>\n<p>스택과 같이 동작한다고 보면 될 것 같습니다!</p>\n<p>그런데 사실, <code>defer</code>문을 하나의 스코프에서 여러 번 사용하는 것은 추천되지 않습니다. </p>\n<p>하나일 땐 도움이 될 수 있지만 여러개의 <code>defer</code>문이 배치되면 가시성도 안좋기 때문이죠.. 😂</p>\n","text":"앨런 Swift문법 마스터 스쿨 (온라인 BootCamp - 2개월과정) Defer우리가 할 일을 미루는 것처럼 코드 실행도 미룰 수 있다면 어떨까요? Swift는 defer 키워드를 제공해서 블럭 안에 있는 구문들을 해당 스코프의 마지막까지 미뤄줄 ...","link":"","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[{"name":"AllenBootCamp","slug":"AllenBootCamp","count":45,"path":"api/categories/AllenBootCamp.json"}],"tags":[{"name":"Swift","slug":"Swift","count":81,"path":"api/tags/Swift.json"},{"name":"iOS","slug":"iOS","count":81,"path":"api/tags/iOS.json"},{"name":"Allen","slug":"Allen","count":45,"path":"api/tags/Allen.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Defer\"><span class=\"toc-text\">Defer</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#defer%EB%AC%B8%EB%8F%84-%ED%98%B8%EC%B6%9C%EB%90%98%EC%96%B4-%EC%8B%A4%ED%96%89%EB%90%9C%EB%8B%A4\"><span class=\"toc-text\">defer문도 호출되어 실행된다</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#defer%EB%AC%B8%EC%9D%B4-%EC%97%AC%EB%9F%AC%EA%B0%9C-%EC%9E%88%EB%8B%A4%EB%A9%B4\"><span class=\"toc-text\">defer문이 여러개 있다면?</span></a></li></ol></li></ol>","author":{"name":"nomatterjun","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/60438045?v=4","link":"/","description":"안녕하세요 👋 <br/> 목적 있는 성장을 지향하는 <br/> iOS 개발자 준비생 이창준입니다.","socials":{"github":"https://github.com/nomatterjun","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"instagram":{"icon":"/assets/instagram.svg","link":"https://www.instagram.com/nomatter_jun/"}}}},"mapped":true,"prev_post":{"title":"38)🧰 Swift - 에러 처리","uid":"ce2e6e038e6cdd39ed0992f2d4217d3d","slug":"Allen/2022-12-02-Allen38","date":"2022-12-01T15:00:00.000Z","updated":"2023-03-31T10:35:08.322Z","comments":true,"path":"api/articles/Allen/2022-12-02-Allen38.json","keywords":null,"cover":null,"text":"앨런 Swift문법 마스터 스쿨 (온라인 BootCamp - 2개월과정) 에러에러의 종류 컴파일 에러 코드가 잘못되었음을 알려주는 문법적 오류 런타임 에러 여러가지 이유로 앱이 실행되는 동안 발생하는 오류 미리 발생 가능한 에러에 대응할 필요가 있다 ...","link":"","photos":[],"count_time":{"symbolsCount":"4.2k","symbolsTime":"4 mins."},"categories":[{"name":"AllenBootCamp","slug":"AllenBootCamp","count":45,"path":"api/categories/AllenBootCamp.json"}],"tags":[{"name":"Swift","slug":"Swift","count":81,"path":"api/tags/Swift.json"},{"name":"iOS","slug":"iOS","count":81,"path":"api/tags/iOS.json"},{"name":"Allen","slug":"Allen","count":45,"path":"api/tags/Allen.json"}],"author":{"name":"nomatterjun","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/60438045?v=4","link":"/","description":"안녕하세요 👋 <br/> 목적 있는 성장을 지향하는 <br/> iOS 개발자 준비생 이창준입니다.","socials":{"github":"https://github.com/nomatterjun","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"instagram":{"icon":"/assets/instagram.svg","link":"https://www.instagram.com/nomatter_jun/"}}}}},"next_post":{"title":"14)🍎 Swift - Rx 없이 Reactive Binding 해보기","uid":"01b2dffc69fa4db38318456db0dbef20","slug":"Swift/2022-11-20-Swift14","date":"2022-11-19T15:00:00.000Z","updated":"2023-03-31T10:42:38.383Z","comments":true,"path":"api/articles/Swift/2022-11-20-Swift14.json","keywords":null,"cover":null,"text":"Rx 없이 View ➡️ ViewModel Binding하기Rx라는 놈 공부할 땐 어려웠는데..한 번 써보니까 없이 기능 구현을 할 때 갈증이 계속해서 일어나는 현상을 겪고 있습니다. 하지만 라이브러리에 의존하는 것은 좋지 않으니까 Rx 없이 데이터 바...","link":"","photos":[],"count_time":{"symbolsCount":"3.1k","symbolsTime":"3 mins."},"categories":[{"name":"Swift","slug":"Swift","count":30,"path":"api/categories/Swift.json"}],"tags":[{"name":"Swift","slug":"Swift","count":81,"path":"api/tags/Swift.json"},{"name":"iOS","slug":"iOS","count":81,"path":"api/tags/iOS.json"}],"author":{"name":"nomatterjun","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/60438045?v=4","link":"/","description":"안녕하세요 👋 <br/> 목적 있는 성장을 지향하는 <br/> iOS 개발자 준비생 이창준입니다.","socials":{"github":"https://github.com/nomatterjun","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"instagram":{"icon":"/assets/instagram.svg","link":"https://www.instagram.com/nomatter_jun/"}}}}}}