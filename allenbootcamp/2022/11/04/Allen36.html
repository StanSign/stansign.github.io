<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body>
<p><a href="https://www.inflearn.com/course/%EC%8A%A4%EC%9C%84%ED%94%84%ED%8A%B8-%EB%AC%B8%EB%B2%95-%EB%A7%88%EC%8A%A4%ED%84%B0-%EC%8A%A4%EC%BF%A8">앨런 Swift문법 마스터 스쿨 (온라인 BootCamp - 2개월과정)</a></p>

<h1 id="고차-함수">고차 함수</h1>
<ul>
  <li>
<strong>함수를 파라미터</strong>로 사용하거나, 함수 실행의 결과를 <strong>함수로 리턴</strong>하는 함수</li>
</ul>

<h2 id="map">map</h2>

<p><code class="language-plaintext highlighter-rouge">map</code> 함수는 기존 배열등의 컬렉션을 새롭게 매핑해서 새로운 배열을 리턴하는 함수입니다.</p>

<p>컬렉션의 각 아이템들에 대해서 가공을 거친 같은 형태의 컬렉션을 만들 때 사용됩니다.</p>

<p><code class="language-plaintext highlighter-rouge">map(transform: (Int) throws -&gt; T)</code></p>

<pre><code class="language-Swift">let numbers = [1, 2, 3, 4, 5]
var a = numbers.map { num in
	return "숫자: \(num)"
} // (Int) -&gt; String
print(a)
// ["숫자: 1", "숫자: 2", "숫자: 3", "숫자: 4", "숫자: 5"]
</code></pre>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">map</code> 함수는 컬렉션의 크기와 원소의 개수가 동일하게 1:1로 매핑되어 반환되는 함수입니다.</p>
</blockquote>

<h2 id="filter">filter</h2>

<p><code class="language-plaintext highlighter-rouge">filter</code> 함수는 기존 배열 등의 컬렉션에 있는 아이템들이 조건에 부합하는지를 확인한 후, 참인 경우만 모아서 새로운 배열을 만들어 리턴하는 함수입니다.</p>

<p><code class="language-plaintext highlighter-rouge">filter(isIncluded: (String) throws -&gt; Bool)</code></p>

<pre><code class="language-Swift">let names = ["Apple", "Black", "Circle", "Dream", "Blue"]
var aaa = names.filter { str in
	return str.contains("B")
} // (String) -&gt; Bool
print(aaa)
// ["Black", "Blue"]
</code></pre>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">filter</code> 함수는 컬렉션에서 원하는 조건에 부합하는 멤버만 골라내고 싶을 때 사용하는 함수입니다.</p>
</blockquote>

<h2 id="reduce">reduce</h2>

<p><code class="language-plaintext highlighter-rouge">reduce</code> 함수는 기존 배열 등의 컬렉션에서 각 아이템을 클로저가 제공하는 방식대로 결합해서 마지막 결과값을 반환하는 함수입니다.</p>

<p><code class="language-plaintext highlighter-rouge">reduce(initialResult: Result, nextPartialResult: (Result, Int) throws -&gt; Result)</code></p>

<pre><code class="language-Swift">var numbersArray = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
var aa = numbersArray.reduce(0) { a, b in
	return a + b
}
print(aa)
// 55
</code></pre>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">reduce</code> 함수는 컬렉션을 클로저 안의 연산에 따라 하나의 결과로 반환하는 함수입니다. 첫 번째 파라미터는 초기값이라는 것을 기억해둡시다.</p>
</blockquote>

<h2 id="map--filter--reduce의-활용">map / filter / reduce의 활용</h2>

<p><code class="language-plaintext highlighter-rouge">map</code>이나 <code class="language-plaintext highlighter-rouge">filter</code>의 반환값은 배열이기 때문에 그 뒤에 또 다른 고차 함수를 다시 적용할 수 있습니다.</p>

<pre><code class="language-Swift">numbersArray = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

// 위의 배열 중에 홀수만 제곱해서 그 숫자들을 전부 더한 값은?
numbersArray.filter { $0 % 2 != 0 }
			.map { $0 * $0 }
			.reduce(0) { $0 + $1 }
// 165
</code></pre>

<h2 id="foreach">forEach</h2>

<p><code class="language-plaintext highlighter-rouge">forEach</code> 함수는 기존 배열 등의 컬렉션에서 각 아이템들을 사용하여 특정 작업을 실행하는 함수입니다.</p>

<p><code class="language-plaintext highlighter-rouge">forEach(body: (Int) throws -&gt; Void)</code></p>

<pre><code class="language-Swift">let immutableArray = [1, 2, 3, 4, 5]
immutableArray.forEach { print($0) }
// 1
// 2
// ...
// 5
</code></pre>

<h2 id="compactmap">compactMap</h2>

<p><code class="language-plaintext highlighter-rouge">compactMap</code> 함수는 기존 배열 등의 컬렉션에서 각 아이템들을 새롭게 매핑하여 변형하되, 옵셔널 아이템은 제거합니다.</p>

<p>쉽게 말해 옵셔널 바인딩 기능이 추가된  <code class="language-plaintext highlighter-rouge">map</code> 함수입니다.</p>

<p><code class="language-plaintext highlighter-rouge">compactMap((Self.Element) -&gt; ElementOfResult?)</code></p>

<pre><code class="language-Swift">let stringArray: [String?] = ["A", nil, "B", nil, "C"]

var newStringArray = stringArray.compactMap { $0 }
print(newStringArray)
// ["A", "B", "C"]
</code></pre>

<pre><code class="language-Swift">let numbers = [-2, -1, 0, 1, 2]
var positiveNumbers = numbers.compactMap { $0 &gt;= 0 ? $0 : nil }
print(positiveNumbers)
</code></pre>

<h2 id="flatmap">flatMap</h2>

<p><code class="language-plaintext highlighter-rouge">flatMap</code> 함수는 기존 배열 등의 컬렉션을 중첩된 배열을 제거한 뒤에 매핑하고 그 결과를 반환합니다.</p>

<p><code class="language-plaintext highlighter-rouge">flatMap((Self.Element) -&gt; SegmentOfResult)</code></p>

<pre><code class="language-Swift">var nestedArray = [[1, 2, 3], [4, 5, 6], 7, 8, 9]
print(nestedArray.flatMap { $0 })
// [1, 2, 3, 4, 5, 6, 7, 8, 9]
</code></pre>
</body></html>
